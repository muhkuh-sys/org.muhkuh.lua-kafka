diff -uNr librdkafka-2.1.1/CMakeLists.txt librdkafka-2.1.1_patched/CMakeLists.txt
--- librdkafka-2.1.1/CMakeLists.txt	2023-04-28 09:54:05.000000000 +0200
+++ librdkafka-2.1.1_patched/CMakeLists.txt	2023-06-05 11:38:57.436806546 +0200
@@ -41,8 +41,8 @@
 # }
 
 # ZLIB {
-find_package(ZLIB QUIET)
-if(ZLIB_FOUND)
+find_package(net.zlib-zlib REQUIRED)
+if(net.zlib-zlib_FOUND)
   set(with_zlib_default ON)
 else()
   set(with_zlib_default OFF)
diff -uNr librdkafka-2.1.1/src/CMakeLists.txt librdkafka-2.1.1_patched/src/CMakeLists.txt
--- librdkafka-2.1.1/src/CMakeLists.txt	2023-04-28 09:54:05.000000000 +0200
+++ librdkafka-2.1.1_patched/src/CMakeLists.txt	2023-06-05 11:40:26.217111543 +0200
@@ -208,9 +208,9 @@
 endif()
 
 if(WITH_ZLIB)
-  find_package(ZLIB REQUIRED)
-  target_include_directories(rdkafka PRIVATE ${ZLIB_INCLUDE_DIRS})
-  target_link_libraries(rdkafka PUBLIC ZLIB::ZLIB)
+  find_package(net.zlib-zlib REQUIRED)
+  target_include_directories(rdkafka PRIVATE ${net.zlib-zlib_INCLUDE_DIR})
+  target_link_libraries(rdkafka PUBLIC net.zlib-zlib::zlibstatic)
 endif()
 
 if(WITH_ZSTD)
